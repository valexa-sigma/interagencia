  CREATE TABLE "AGENCIA_VENTAS" 
   (	"ID_VENTA" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	"ID_AGENCIA" NUMBER, 
	"ID_PRODUCTO" NUMBER, 
	"FECHA" DATE, 
	"CANTIDAD" NUMBER, 
	"PRECIO_UNIDAD_USD" NUMBER, 
	"PRECIO_UNIDAD_VES" NUMBER, 
	"TASA_USD_VES" NUMBER, 
	"CBY" VARCHAR2(50), 
	"CDT" TIMESTAMP (6), 
	"MBY" VARCHAR2(50), 
	"MDT" TIMESTAMP (6), 
	"ID_TASA_USD" NUMBER, 
	 PRIMARY KEY ("ID_VENTA")
  USING INDEX  ENABLE
   ) ;

  ALTER TABLE "AGENCIA_VENTAS" ADD CONSTRAINT "AGENCIA_VENTAS_FK01" FOREIGN KEY ("ID_AGENCIA")
	  REFERENCES "AGENCIA" ("ID_AGENCIA") ENABLE;
  ALTER TABLE "AGENCIA_VENTAS" ADD CONSTRAINT "AGENCIA_VENTAS_FK02" FOREIGN KEY ("ID_PRODUCTO")
	  REFERENCES "PRODUCTO" ("ID_PRODUCTO") ENABLE;

  CREATE OR REPLACE EDITIONABLE TRIGGER "TRG_AGENCIA_VENTAS_AUDIT" 
BEFORE INSERT OR UPDATE ON AGENCIA_VENTAS 
FOR EACH ROW 
BEGIN 
    :NEW.MDT := SYSTIMESTAMP; 
    :NEW.MBY := NVL(v('APP_USER'), USER); 
    IF INSERTING THEN 
        :NEW.CDT := SYSTIMESTAMP; 
        :NEW.CBY := NVL(v('APP_USER'), USER); 
    END IF; 
END;
/
ALTER TRIGGER "TRG_AGENCIA_VENTAS_AUDIT" ENABLE;